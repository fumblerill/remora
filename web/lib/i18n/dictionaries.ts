export const SUPPORTED_LOCALES = ["ru", "en"] as const;

export type Locale = (typeof SUPPORTED_LOCALES)[number];

export const DEFAULT_LOCALE: Locale = "ru";

type Dictionary = Record<string, any>;

type Dictionaries = Record<Locale, Dictionary>;

export const dictionaries: Dictionaries = {
  ru: {
    layout: {
      loading: "Загрузка...",
    },
    common: {
      loading: "Загрузка...",
      cancel: "Отмена",
      delete: "Удалить",
      confirm: {
        title: "Подтверждение",
        yes: "Да",
        removing: "Удаляем...",
      },
    },
    header: {
      sections: {
        home: "Главная",
        admin: "Админ-панель",
        login: "Авторизация",
        configurator: "Конфигуратор",
        settings: "Настройки",
      },
      links: {
        settings: "Настройки",
        configurator: "Конфигуратор",
      },
      languageLabel: "Язык",
      languageToggleTitle: "Сменить язык на {{locale}}",
      logout: {
        default: "Выйти",
        loading: "Выходим...",
      },
    },
    configurator: {
      placeholder: {
        dashboardName: "Имя дашборда",
      },
      buttons: {
        uploadFile: "Загрузить файл",
        addTable: "Добавить таблицу",
        addChart: "Добавить график",
        addReport: "Добавить отчёт",
        save: "Сохранить",
        openConfigs: "Конфигурации",
      },
      toasts: {
        uploadRequired: "Сначала загрузите файл",
        reportExists: "Отчёт уже добавлен",
        fileUploaded: "Файл успешно загружен",
        dashboardLoaded: "Загружен дашборд: {{name}}",
        loadError: "Ошибка загрузки дашборда",
        invalidFormat: "Некорректный формат JSON",
        nameRequired: "Введите имя дашборда",
        saveSuccess: "Дашборд сохранён: {{file}}",
        saveError: "Не удалось сохранить дашборд",
      },
    },
    configSelect: {
      title: "Выберите конфигурацию",
      empty: "Сохранённые конфигурации отсутствуют",
      deleteTooltip: "Удалить конфигурацию",
      confirm: {
        title: "Удаление конфигурации",
        description: "Удалить конфигурацию «{{name}}»? Действие нельзя отменить.",
      },
      toastLoadError: "Не удалось загрузить конфигурации",
      toastDeleteSuccess: "Конфигурация «{{name}}» удалена",
      toastDeleteError: "Не удалось удалить конфигурацию",
    },
    dashboardSelect: {
      title: "Дашборды для",
      empty: "Нет сохранённых дашбордов.",
      missingBadge: "удалённый файл",
      cancel: "Отмена",
      save: "Сохранить",
    },
    viewer: {
      uploadButton: "Загрузить данные",
      emptyHint: "Загрузите свой файл (CSV/XLSX), чтобы построить аналитику.",
      waiting: "Ожидание данных...",
      loadError: "Не удалось загрузить шаблон дашборда",
      uploadSuccess: "Файл успешно загружен",
    },
    settings: {
      sidebar: {
        title: "Управление",
        newUser: "Новый пользователь",
        onlySuperHint: "Только SuperAdmin может создавать пользователей",
        importButton: "Импорт JSON",
        importing: "Импорт...",
      },
      configs: {
        title: "Конфигурации дашбордов",
        empty: "Нет сохранённых конфигураций.",
        nameHeader: "Название",
        fileHeader: "Файл",
        updatedHeader: "Обновлён",
        actionsHeader: "Действия",
        download: "Скачать",
        confirmDeleteTitle: "Удаление конфигурации",
        confirmDeleteDescription: "Удалить конфигурацию «{{name}}»? Действие нельзя отменить.",
        downloadError: "Не удалось скачать конфигурацию",
        deleteSuccess: "Конфигурация удалена",
        deleteError: "Не удалось удалить конфигурацию",
        importSuccess: "Конфигурация импортирована",
        importError: "Не удалось импортировать конфигурацию",
      },
      users: {
        title: "Пользователи системы",
        loginHeader: "Логин",
        roleHeader: "Роль",
        dashboardsHeader: "Дашборды",
        selectDashboards: "Выбрать дашборды",
        actionsHeader: "Действия",
        empty: "Нет пользователей",
      },
      userCreate: {
        title: "Новый пользователь",
        loginPlaceholder: "Логин",
        passwordPlaceholder: "Пароль",
        cancel: "Отмена",
        submitIdle: "Создать",
        submitLoading: "Создание...",
      },
    },
    home: {
      title: "Доступные дашборды",
      unauthorized: "Ошибка: требуется авторизация",
      updated: "Обновлён: {{date}}",
      openButton: "Открыть",
      empty: "Нет доступных дашбордов.",
    },
    setup: {
      title: "Первичная настройка Remora",
      loginPlaceholder: "Логин",
      passwordPlaceholder: "Пароль",
      submitIdle: "Создать SuperAdmin",
      submitLoading: "Создаём...",
      status: {
        success: "✅ SuperAdmin создан успешно",
        failure: "Ошибка инициализации",
        connection: "Ошибка соединения с сервером",
      },
    },
    uploadModal: {
      title: "Импорт данных",
      dropHint: "Перетащите CSV/XLSX файл или выберите его вручную.",
      dropSecondary: "или нажмите для выбора файла",
      selectButton: "Выбрать файл",
      replaceButton: "Заменить файл",
      selectedFile: "Выбран файл:",
      removeFile: "Удалить",
      requiresValidation: "Проверить данные перед импортом",
      startUpload: "Импортировать данные",
      processing: "Обработка...",
      save: "Сохранить",
      cancel: "Отмена",
      validationTitle: "Проверка данных",
      validationHint: "Удалите лишние строки и столбцы перед импортом данных в дашборд.",
      moveHeader: "Переместить заголовок в строки",
      promoteRow: "Сделать строку заголовком",
      promoteFirstRow: "Сделать первую строку заголовками",
      reset: "Сбросить изменения",
      confirmSubmit: "Подтвердить импорт",
      fileName: "Файл:",
      rowsCount: "Строк:",
      columnsCount: "Колонок:",
      removeColumn: "Удалить колонку",
      removeRow: "Удалить строку",
      tableActions: "Действия",
      columnFallback: "Колонка {{index}}",
      noColumnsWarning: "Нельзя импортировать данные без столбцов. Сбросьте изменения или выберите другой файл.",
      allRowsRemoved: "Все строки удалены. Чтобы начать заново, выберите другой файл или сбросьте изменения.",
      uploadError: "Не удалось загрузить файл",
    },
    widgets: {
      common: {
        noData: "Нет данных",
        unknownWidget: "❓ Неизвестный виджет",
      },
      report: {
        defaultTitle: "Отчёт",
        defaultTemplate: "Данные за период {{minDate}} — {{maxDate}}\nВсего записей: {{totalCount}}",
        metrics: {
          minDate: "Минимальная дата",
          maxDate: "Максимальная дата",
          totalCount: "Количество записей",
        },
        viewer: {
          notConfigured: "Отчёт не настроен. Добавьте метрики, чтобы отображать сводку.",
          emptyTemplate: "Шаблон пустой. Используйте поля метрик, например {{example}}.",
          showValues: "Показать значения метрик",
        },
        form: {
          title: "Текст отчёта",
          hint: "Используйте {{example}} для подстановки значений",
          templatePlaceholder: "Данные с {{minDate}} по {{maxDate}}\nВсего записей — {{totalCount}}",
          metricsTitle: "Метрики",
          newMetricLabel: "Новая метрика",
          addMetric: "Добавить метрику",
          emptyState: "Добавьте хотя бы одну метрику, чтобы использовать её в шаблоне.",
          codeLabel: "Код",
          nameLabel: "Название",
          removeMetric: "Удалить метрику",
          fieldLabel: "Поле",
          fieldPlaceholder: "Не выбрано",
          aggregationLabel: "Агрегация",
          formatLabel: "Формат",
          formatPlaceholder: "Без форматирования",
          filterTitle: "Фильтр по значению (опционально)",
          filterField: "Поле фильтра",
          filterFieldPlaceholder: "Как в метрике",
          filterOperator: "Условие",
          filterValue: "Значение",
          filterValuePlaceholder: "Например: Ошибка",
        },
        buttons: {
          edit: "Редактировать",
          save: "Сохранить",
          cancel: "Отмена",
          renameHint: "Двойной клик для редактирования",
        },
        aggregations: {
          count: "Количество",
          sum: "Сумма",
          avg: "Среднее",
          min: "Минимум",
          max: "Максимум",
          minDate: "Минимальная дата",
          maxDate: "Максимальная дата",
        },
        formats: {
          number: "Число (2 знака)",
          integer: "Целое",
          currency: "Валюта",
          date: "Дата",
          datetime: "Дата и время",
        },
        operators: {
          eq: "Равно",
          neq: "Не равно",
          contains: "Содержит",
          startsWith: "Начинается с",
          endsWith: "Заканчивается на",
        },
      },
    },
  },
  en: {
    layout: {
      loading: "Loading...",
    },
    common: {
      loading: "Loading...",
      cancel: "Cancel",
      delete: "Delete",
      confirm: {
        title: "Confirmation",
        yes: "Yes",
        removing: "Removing...",
      },
    },
    header: {
      sections: {
        home: "Home",
        admin: "Admin Panel",
        login: "Sign In",
        configurator: "Configurator",
        settings: "Settings",
      },
      links: {
        settings: "Settings",
        configurator: "Configurator",
      },
      languageLabel: "Language",
      languageToggleTitle: "Switch language to {{locale}}",
      logout: {
        default: "Log out",
        loading: "Signing out...",
      },
    },
    configurator: {
      placeholder: {
        dashboardName: "Dashboard name",
      },
      buttons: {
        uploadFile: "Upload file",
        addTable: "Add table",
        addChart: "Add chart",
        addReport: "Add report",
        save: "Save",
        openConfigs: "Saved dashboards",
      },
      toasts: {
        uploadRequired: "Upload a file first",
        reportExists: "Report widget already exists",
        fileUploaded: "File uploaded successfully",
        dashboardLoaded: "Loaded dashboard: {{name}}",
        loadError: "Failed to load dashboard",
        invalidFormat: "Invalid JSON format",
        nameRequired: "Enter a dashboard name",
        saveSuccess: "Dashboard saved: {{file}}",
        saveError: "Failed to save dashboard",
      },
    },
    configSelect: {
      title: "Select a configuration",
      empty: "No saved configurations",
      deleteTooltip: "Delete configuration",
      confirm: {
        title: "Delete configuration",
        description: "Delete configuration \"{{name}}\"? This action cannot be undone.",
      },
      toastLoadError: "Failed to load configurations",
      toastDeleteSuccess: "Configuration \"{{name}}\" deleted",
      toastDeleteError: "Failed to delete configuration",
    },
    dashboardSelect: {
      title: "Dashboards for",
      empty: "No saved dashboards.",
      missingBadge: "missing file",
      cancel: "Cancel",
      save: "Save",
    },
    viewer: {
      uploadButton: "Upload data",
      emptyHint: "Upload your CSV/XLSX file to explore analytics.",
      waiting: "Waiting for data...",
      loadError: "Failed to load dashboard template",
      uploadSuccess: "File uploaded successfully",
    },
    settings: {
      sidebar: {
        title: "Management",
        newUser: "New user",
        onlySuperHint: "Only SuperAdmin can create users",
        importButton: "Import JSON",
        importing: "Importing...",
      },
      configs: {
        title: "Dashboard configurations",
        empty: "No saved configurations.",
        nameHeader: "Name",
        fileHeader: "File",
        updatedHeader: "Updated",
        actionsHeader: "Actions",
        download: "Download",
        confirmDeleteTitle: "Delete configuration",
        confirmDeleteDescription: "Delete configuration \"{{name}}\"? This action cannot be undone.",
        downloadError: "Failed to download configuration",
        deleteSuccess: "Configuration deleted",
        deleteError: "Failed to delete configuration",
        importSuccess: "Configuration imported",
        importError: "Failed to import configuration",
      },
      users: {
        title: "System users",
        loginHeader: "Login",
        roleHeader: "Role",
        dashboardsHeader: "Dashboards",
        selectDashboards: "Select dashboards",
        actionsHeader: "Actions",
        empty: "No users found",
      },
      userCreate: {
        title: "New user",
        loginPlaceholder: "Login",
        passwordPlaceholder: "Password",
        cancel: "Cancel",
        submitIdle: "Create",
        submitLoading: "Creating...",
      },
    },
    home: {
      title: "Available dashboards",
      unauthorized: "Error: authorization required",
      updated: "Updated: {{date}}",
      openButton: "Open",
      empty: "No dashboards available.",
    },
    setup: {
      title: "Initial Remora setup",
      loginPlaceholder: "Login",
      passwordPlaceholder: "Password",
      submitIdle: "Create SuperAdmin",
      submitLoading: "Creating...",
      status: {
        success: "✅ SuperAdmin created successfully",
        failure: "Initialization failed",
        connection: "Server connection error",
      },
    },
    uploadModal: {
      title: "Import data",
      dropHint: "Drag & drop a CSV/XLSX file or choose it manually.",
      dropSecondary: "or click to browse",
      selectButton: "Choose file",
      replaceButton: "Replace file",
      selectedFile: "Selected file:",
      removeFile: "Remove",
      requiresValidation: "Review data before importing",
      startUpload: "Import data",
      processing: "Processing...",
      save: "Save",
      cancel: "Cancel",
      validationTitle: "Data review",
      validationHint: "Remove extra rows and columns before importing to the dashboard.",
      moveHeader: "Move header into rows",
      promoteRow: "Use row as header",
      promoteFirstRow: "Make first row headers",
      reset: "Reset changes",
      confirmSubmit: "Confirm import",
      fileName: "File:",
      rowsCount: "Rows:",
      columnsCount: "Columns:",
      removeColumn: "Remove column",
      removeRow: "Remove row",
      tableActions: "Actions",
      columnFallback: "Column {{index}}",
      noColumnsWarning: "Cannot import data without columns. Reset changes or choose another file.",
      allRowsRemoved: "All rows were removed. Pick another file or reset the changes to start over.",
      uploadError: "Failed to upload file",
    },
    widgets: {
      common: {
        noData: "No data",
        unknownWidget: "❓ Unknown widget",
      },
      report: {
        defaultTitle: "Report",
        defaultTemplate: "Data for {{minDate}} — {{maxDate}}\nTotal records: {{totalCount}}",
        metrics: {
          minDate: "Earliest date",
          maxDate: "Latest date",
          totalCount: "Record count",
        },
        viewer: {
          notConfigured: "Report is not configured. Add metrics to show the summary.",
          emptyTemplate: "Template is empty. Insert metrics like {{example}}.",
          showValues: "Show metric values",
        },
        form: {
          title: "Report text",
          hint: "Use {{example}} to insert metric values",
          templatePlaceholder: "Data from {{minDate}} to {{maxDate}}\nTotal records — {{totalCount}}",
          metricsTitle: "Metrics",
          newMetricLabel: "New metric",
          addMetric: "Add metric",
          emptyState: "Add at least one metric to reference it in the template.",
          codeLabel: "Code",
          nameLabel: "Label",
          removeMetric: "Remove metric",
          fieldLabel: "Field",
          fieldPlaceholder: "Not selected",
          aggregationLabel: "Aggregation",
          formatLabel: "Format",
          formatPlaceholder: "No formatting",
          filterTitle: "Value filter (optional)",
          filterField: "Filter field",
          filterFieldPlaceholder: "Same as metric",
          filterOperator: "Condition",
          filterValue: "Value",
          filterValuePlaceholder: "E.g. Failed",
        },
        buttons: {
          edit: "Edit",
          save: "Save",
          cancel: "Cancel",
          renameHint: "Double-click to edit",
        },
        aggregations: {
          count: "Count",
          sum: "Sum",
          avg: "Average",
          min: "Minimum",
          max: "Maximum",
          minDate: "Earliest date",
          maxDate: "Latest date",
        },
        formats: {
          number: "Number (2 decimals)",
          integer: "Integer",
          currency: "Currency",
          date: "Date",
          datetime: "Date & time",
        },
        operators: {
          eq: "Equals",
          neq: "Not equal",
          contains: "Contains",
          startsWith: "Starts with",
          endsWith: "Ends with",
        },
      },
    },
  },
};

export function isLocale(value: string | undefined | null): value is Locale {
  return SUPPORTED_LOCALES.includes((value ?? "") as Locale);
}
